{% extends "base.html" %}

{% block content %}

<br><br>

<h2>Reviews:</h2>

<form action="{{ url_for('reviews.reviews_filter')}}" method="POST">
  <label for="Attribute">Sort by:</label>
  <select name="Attribute" id="Attribute">
    <option value="Attribute...">Attribute...</option>
    <option value="Rating">Rating</option>
    <option value="Date">Date</option>
  </select>
  <label for="Ordering"></label>
  <select name="Ordering" id="Ordering">
    <option value="Ordering...">Ordering...</option>
    <option value="Ascending">Ascending</option>
    <option value="Descending">Descending</option>
  </select>
  <label for="Restaurant">Filter by:</label>
  <select name="Restaurant" id="Restaurant">
    <option value="None">All Restaurants</option>
    {% for rest in avail_rests %}
      <option value="{{ rest.id }}">{{ rest.name }}</option>
    {% endfor %}
  </select>
  <input type="submit" value="Go">
</form>


<form action="{{ url_for('reviews.review_add')}}" method="POST">
  <input type ="submit" value="Add new review">
</form>

<br><br>

<table class='table table-hover table-bordered container'>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Reviewer</th>
      <th scope="col">Date</th>
      <th scope="col">Restaurant</th>
      <th scope="col">Rating</th>
      <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    {% for review in avail_reviews%}
      <tr>
        <th scope="row">{{review.firstname}} {{review.lastname}}</th>
        <td>{{humanize_time(review.date)}}</td>
        <td>{{review.restaurant}}</td>
        <td>{{review.rating}} / 5</td>
        <td>{{review.description}}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<br><br>

{% endblock %}